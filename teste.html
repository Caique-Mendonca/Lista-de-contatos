<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Formatar Número de Telefone</title>
<script>
    // Função para formatar o número de telefone
    function formatarTelefone(input) {
        // Remove todos os caracteres não numéricos do número de telefone
        var cleaned = ('' + input.value).replace(/\D/g, '');
        
        // Formatação do número de telefone com traços e colchetes, considerando DDI
        var formatted = '';
        if (cleaned.length > 10) { // Se tiver mais de 10 dígitos, inclui DDI
            formatted = cleaned.replace(/(\d{2})(\d{2})(\d{1})(\d{4})(\d{4})/, '+$1 ($2) $3 $4-$5');
        } else if (cleaned.length === 10) { // Números nacionais
            formatted = cleaned.replace(/(\d{2})(\d{4})(\d{4})/, '($1) $2-$3');
        } else {
            formatted = cleaned;
        }
        
        // Define o valor formatado de volta no campo de entrada
        input.value = formatted;
    }
</script>
</head>
<body>

<!-- Campo de entrada do tipo telefone -->
<label for="telefone">Telefone:</label>
<input type="tel" id="telefone" name="telefone" oninput="formatarTelefone(this)" maxlength="17">

</body>
</html>